DROP TABLE CURSO_ALUMNO;
DROP TABLE CURSO_PROFESOR;
DROP TABLE TRABAJADOR;
DROP TABLE CATEGORIA_TRABAJADOR;
DROP TABLE ESPECIALIZACION;
DROP TABLE PROFESOR;
DROP TABLE TIPO_PROFESOR;
DROP TABLE CURSO;
DROP TABLE ALUMNO;
DROP TABLE TIPO_ALUMNO;
DROP TABLE COMUNA;

CREATE TABLE TIPO_ALUMNO
(
    TA_CODIGO VARCHAR2(4),
    TA_DESCRIPCION VARCHAR2(30),
    CONSTRAINT PK_TIPO_ALUMNO PRIMARY KEY(TA_CODIGO)
);

CREATE TABLE COMUNA
(
    C_CODIGO VARCHAR2(4),
    C_NOMBRE VARCHAR2(50),
    CONSTRAINT PK_COMUNA PRIMARY KEY(C_CODIGO)
);

CREATE TABLE ALUMNO
(
    A_CODIGO VARCHAR2(6),
    A_RUT NUMBER,
    A_DV VARCHAR(1),
	A_NOMBRES VARCHAR2(20),
    A_APELLIDO_PATERNO VARCHAR2(20),
    A_APELLIDO_MATERNO VARCHAR2(20),
    A_FECHA_NACIMIENTO DATE,
    A_SUELDO NUMBER,
    A_TIPO_ALUMNO VARCHAR2(4),
    A_TELEFONO VARCHAR2(10),
    A_COMUNA VARCHAR2(4),
    CONSTRAINT PK_ALUMNO PRIMARY KEY(A_CODIGO),
    CONSTRAINT FK_ALUMNO_COMUNA FOREIGN KEY(A_COMUNA) REFERENCES COMUNA,
    CONSTRAINT FK_ALUMNO_TIPO FOREIGN KEY(A_TIPO_ALUMNO) REFERENCES TIPO_ALUMNO
);

CREATE TABLE CATEGORIA_TRABAJADOR
(
    CT_CODIGO VARCHAR2(4),
    CT_DESCRIPCION VARCHAR2(30),
    CONSTRAINT PK_CATEGORIA_TRABAJADOR PRIMARY KEY(CT_CODIGO)
);

CREATE TABLE TRABAJADOR
(
    T_RUT NUMBER,
    T_DV VARCHAR(1),
    T_NOMBRE VARCHAR2(20),
    T_APELLIDO_PATERNO VARCHAR2(20),
    T_APELLIDO_MATERNO VARCHAR2(20),
    T_SUELDO NUMBER,
    T_FECHA_NACIMIENTO DATE,
    T_CATEGORIA VARCHAR2(4),
    T_COMUNA VARCHAR2(4),
    CONSTRAINT PK_TRABAJADOR PRIMARY KEY(T_RUT),
    CONSTRAINT FK_TRABAJADOR_CATEGORIA FOREIGN KEY(T_CATEGORIA) REFERENCES CATEGORIA_TRABAJADOR,
    CONSTRAINT FK_TRABAJADOR_COMUNA FOREIGN KEY(T_COMUNA) REFERENCES COMUNA
);

CREATE TABLE TIPO_PROFESOR
(
    TP_CODIGO VARCHAR2(4),
    TP_DESCRIPCION VARCHAR2(30),
    CONSTRAINT PK_TIPO_PROFESOR PRIMARY KEY(TP_CODIGO)
);

CREATE TABLE PROFESOR
(
    P_CODIGO VARCHAR2(6),
    P_RUT NUMBER,
    P_DV VARCHAR(1),
    P_NOMBRE VARCHAR2(20),
    P_APELLIDO_PATERNO VARCHAR2(20),
    P_APELLIDO_MATERNO VARCHAR2(20),
    P_CORREO VARCHAR2(75),
    P_FECHA_NACIMIENTO DATE,
    P_SUELDO NUMBER,
    P_COMUNA VARCHAR2(4),
    P_TIPO VARCHAR2(4),
    P_FECHA_CONTRATO DATE,
    CONSTRAINT PK_PROFESOR PRIMARY KEY(P_CODIGO),
    CONSTRAINT FK_PROFESOR_COMUNA FOREIGN KEY(P_COMUNA) REFERENCES COMUNA,
    CONSTRAINT FK_PROFESOR_TIPO FOREIGN KEY(P_TIPO) REFERENCES TIPO_PROFESOR
);

CREATE TABLE ESPECIALIZACION
(
    E_CODIGO VARCHAR2(6),
    E_PROFESOR VARCHAR2(6),
    E_DESCRIPCION VARCHAR(50),
    CONSTRAINT PK_ESPECIALIZACION PRIMARY KEY(E_CODIGO),
    CONSTRAINT FK_ESP_PROFESOR FOREIGN KEY(E_PROFESOR) REFERENCES PROFESOR
);

CREATE TABLE CURSO
(
    C_CODIGO VARCHAR2(6),
    C_NOMBRE VARCHAR2(30),
    C_VACANTES NUMBER,
    C_FECHA_INICIO DATE,
    C_FECHA_TERMINO DATE,
    C_VALOR NUMBER,
    CONSTRAINT PK_CURSO PRIMARY KEY(C_CODIGO)
);

CREATE TABLE CURSO_PROFESOR
(
    CP_ID NUMBER,
    CP_CURSO_CODIGO VARCHAR2(6),
    CP_PROFESOR_CODIGO VARCHAR2(6),
    CONSTRAINT PK_CURSO_PROFESOR PRIMARY KEY(CP_ID),
    CONSTRAINT FK_CP_CURSO FOREIGN KEY(CP_CURSO_CODIGO) REFERENCES CURSO,
    CONSTRAINT FK_CP_PROFESOR FOREIGN KEY(CP_PROFESOR_CODIGO) REFERENCES PROFESOR
);

CREATE TABLE CURSO_ALUMNO
(
    CA_ID NUMBER,
    CA_CURSO_CODIGO VARCHAR2(6),
    CA_ALUMNO_CODIGO VARCHAR2(6),
    CONSTRAINT PK_CURSO_ALUMNO PRIMARY KEY(CA_ID),
    CONSTRAINT FK_CA_CURSO FOREIGN KEY(CA_CURSO_CODIGO) REFERENCES CURSO,
    CONSTRAINT FK_CA_ALUMNO FOREIGN KEY(CA_ALUMNO_CODIGO) REFERENCES ALUMNO    
);    

--COMUNA
INSERT INTO COMUNA VALUES ('C001', 'SANTIAGO CENTRO');
INSERT INTO COMUNA VALUES ('C002', 'PROVIDENCIA');
INSERT INTO COMUNA VALUES ('C003', 'LAS CONDES');

--CURSO
INSERT INTO CURSO VALUES('C00001', 'CURSO 1', 30, TO_DATE('01/03/2021', 'DD/MM/YYYY'), TO_DATE('01/08/2021', 'DD/MM/YYYY'), 1300000);
INSERT INTO CURSO VALUES('C00002', 'CURSO 2', 30, TO_DATE('01/03/2021', 'DD/MM/YYYY'), TO_DATE('01/08/2021', 'DD/MM/YYYY'), 1500000);

--TIPO_ALUMNO
INSERT INTO TIPO_ALUMNO VALUES ('TA01', 'ALUMNO DIURNO');
INSERT INTO TIPO_ALUMNO VALUES ('TA02', 'ALUMNO VESPERTINO');

--ALUMNO
INSERT INTO ALUMNO VALUES('A00001', 18304123,'1', 'JAIME', 'JIMENEZ', 'REYES', TO_DATE('01/01/1990', 'DD/MM/YYYY'), 750000, 'TA01', '99999999',  'C001');
INSERT INTO ALUMNO VALUES('A00002', 25124123,'1', 'GUILLERMO', 'SOLE', 'DOMINGUEZ', TO_DATE('01/02/1988', 'DD/MM/YYYY'), 800000, 'TA01', '88888888', 'C002');
INSERT INTO ALUMNO VALUES('A00003', 20304567,'3', 'MARCO', 'ROIG', 'SERRANO', TO_DATE('01/03/1986', 'DD/MM/YYYY'), 850000, 'TA01', '77777777', 'C003');
INSERT INTO ALUMNO VALUES('A00004', 25675678,'4', 'JOSE', 'GOMEZ', 'SERRA', TO_DATE('01/04/1984', 'DD/MM/YYYY'), 900000, 'TA01', null, 'C001');
INSERT INTO ALUMNO VALUES('A00005', 20123432,'6', 'JOAN', 'GRAU', 'IGLESIAS', TO_DATE('01/05/1982', 'DD/MM/YYYY'), 950000, 'TA01', '55555555', 'C002');
INSERT INTO ALUMNO VALUES('A00006', 22098890,'2', 'EDUARDO', 'VIDAL', 'DURAN', TO_DATE('01/06/1980', 'DD/MM/YYYY'), 500000, 'TA01', null, 'C003');
INSERT INTO ALUMNO VALUES('A00007', 20567765,'4', 'GABRIEL', 'RUBIO', 'MARIN', TO_DATE('01/07/1978', 'DD/MM/YYYY'), 1000000, 'TA01', '33333333', 'C001');
INSERT INTO ALUMNO VALUES('A00008', 23987345,'3', 'CESAR', 'ROVIRO', 'HERRERA', TO_DATE('01/08/1976', 'DD/MM/YYYY'), 1250000, 'TA01', '22222222', 'C002');
INSERT INTO ALUMNO VALUES('A00009', 22098132,'1', 'MARC', 'SANTOS', 'ALVAREZ', TO_DATE('01/09/1974', 'DD/MM/YYYY'), 1300000, 'TA01', null, 'C003');
INSERT INTO ALUMNO VALUES('A00010', 20567345,'1', 'JOAQUIN', 'VARGAS', 'BRAVO', TO_DATE('01/10/1975', 'DD/MM/YYYY'), 2500000, 'TA02', '22211122', 'C001');
INSERT INTO ALUMNO VALUES('A00011', 19456900,'K', 'ANGEL', 'SOLA', 'GONZALEZ', TO_DATE('01/11/1977', 'DD/MM/YYYY'), 1800000, 'TA02', '33311133', 'C002');
INSERT INTO ALUMNO VALUES('A00012', 20000657,'0', 'GUILLERMO', 'CASAS', 'MORA', TO_DATE('01/12/1979', 'DD/MM/YYYY'), 750000, 'TA02', '44411144', 'C003');
INSERT INTO ALUMNO VALUES('A00013', 23987444,'9', 'VICTOR', 'RUBIO', 'RODRIGUEZ', TO_DATE('01/01/1981', 'DD/MM/YYYY'), 950000, 'TA02', null, 'C001');
INSERT INTO ALUMNO VALUES('A00014', 22333567,'2', 'MANUEL', 'GALLEGO', 'ROMERO', TO_DATE('01/02/1983', 'DD/MM/YYYY'), 500000, 'TA02', '66611166', 'C002');
INSERT INTO ALUMNO VALUES('A00015', 21342235,'1', 'ALBERTO', 'MORENO', 'JIMENEZ', TO_DATE('01/03/1985', 'DD/MM/YYYY'), 1380000, 'TA02', '77711177', 'C003');
INSERT INTO ALUMNO VALUES('A00016', 20345876,'5', 'MIGUEL', 'ORTEGA', 'PASTOR', TO_DATE('01/04/1987', 'DD/MM/YYYY'), 1400000, 'TA01', '88811188', 'C001');
INSERT INTO ALUMNO VALUES('A00017', 21234555,'6', 'DIEGO', 'GIMENEZ', 'SOTO', TO_DATE('01/05/1989', 'DD/MM/YYYY'), 1500000, 'TA02', '99911199', 'C002');
INSERT INTO ALUMNO VALUES('A00018', 20535566,'3', 'BRUNO', 'SANZ', 'MARTIN', TO_DATE('01/06/1991', 'DD/MM/YYYY'), 3000000, 'TA01', '11122233', 'C003');
INSERT INTO ALUMNO VALUES('A00019', 20453356,'1', 'FRANCISCO', 'MARQUEZ', 'NAVARRO', TO_DATE('01/08/1969', 'DD/MM/YYYY'), 750000, 'TA01', '44455511', 'C001');
INSERT INTO ALUMNO VALUES('A00020', 20402044,'1', 'ISAAC', 'CRUZ', 'FERRER', TO_DATE('01/08/1990', 'DD/MM/YYYY'), 750000, 'TA01', '66677711', 'C002');

--ALUMNO CURSO
INSERT INTO CURSO_ALUMNO VALUES(1, 'C00001', 'A00001');
INSERT INTO CURSO_ALUMNO VALUES(2, 'C00001', 'A00002');
INSERT INTO CURSO_ALUMNO VALUES(3, 'C00001', 'A00003');
INSERT INTO CURSO_ALUMNO VALUES(4, 'C00001', 'A00004');
INSERT INTO CURSO_ALUMNO VALUES(5, 'C00001', 'A00005');
INSERT INTO CURSO_ALUMNO VALUES(6, 'C00001', 'A00006');
INSERT INTO CURSO_ALUMNO VALUES(7, 'C00001', 'A00007');
INSERT INTO CURSO_ALUMNO VALUES(8, 'C00001', 'A00008');
INSERT INTO CURSO_ALUMNO VALUES(9, 'C00001', 'A00009');
INSERT INTO CURSO_ALUMNO VALUES(10, 'C00001', 'A00010');
INSERT INTO CURSO_ALUMNO VALUES(11, 'C00001', 'A00011');
INSERT INTO CURSO_ALUMNO VALUES(12, 'C00001', 'A00012');
INSERT INTO CURSO_ALUMNO VALUES(13, 'C00001', 'A00013');
INSERT INTO CURSO_ALUMNO VALUES(14, 'C00001', 'A00014');
INSERT INTO CURSO_ALUMNO VALUES(15, 'C00001', 'A00015');
INSERT INTO CURSO_ALUMNO VALUES(16, 'C00001', 'A00016');
INSERT INTO CURSO_ALUMNO VALUES(17, 'C00001', 'A00017');
INSERT INTO CURSO_ALUMNO VALUES(18, 'C00001', 'A00018');
INSERT INTO CURSO_ALUMNO VALUES(19, 'C00001', 'A00019');
INSERT INTO CURSO_ALUMNO VALUES(20, 'C00001', 'A00020');

--TIPO PROFESOR
INSERT INTO TIPO_PROFESOR VALUES('TP01', 'PLANTA');
INSERT INTO TIPO_PROFESOR VALUES('TP02', 'PLAZO FIJO');

--PROFESOR
INSERT INTO PROFESOR VALUES('P00001', 21234555,'6', 'RODRIGO', 'MURILLO', 'MURILLO', NULL, TO_DATE('05/08/1987', 'DD/MM/YYYY'), 1500000, 'C003', 'TP01', TO_DATE('01/03/2015', 'DD/MM/YYYY'));
INSERT INTO PROFESOR VALUES('P00002', 21232555,'2', 'JUAN', 'DIAZ', 'DIAZ', NULL, TO_DATE('25/08/1979', 'DD/MM/YYYY'), 1700000, 'C003', 'TP01', TO_DATE('01/03/2017', 'DD/MM/YYYY'));
INSERT INTO PROFESOR VALUES('P00003', 20234567,'K', 'JAIME', 'MARCHANT', 'MARCHANT', NULL, TO_DATE('01/08/1976', 'DD/MM/YYYY'), 1600000, 'C002', 'TP02', TO_DATE('01/03/2013', 'DD/MM/YYYY'));

--CURSO PROFESOR
INSERT INTO CURSO_PROFESOR VALUES(1, 'C00001', 'P00001');
INSERT INTO CURSO_PROFESOR VALUES(2, 'C00002', 'P00002');

--ESPECIALIZACION
INSERT INTO ESPECIALIZACION VALUES('ESP001', 'P00001', 'ESPECIALIZACION 1');
INSERT INTO ESPECIALIZACION VALUES('ESP002', 'P00002', 'ESPECIALIZACION 2');
INSERT INTO ESPECIALIZACION VALUES('ESP003', 'P00003', 'ESPECIALIZACION 3');

--CATEGORIA
INSERT INTO CATEGORIA_TRABAJADOR VALUES('CAT1', 'CATEGORIA 1');
INSERT INTO CATEGORIA_TRABAJADOR VALUES('CAT2', 'CATEGORIA 2');
INSERT INTO CATEGORIA_TRABAJADOR VALUES('CAT3', 'CATEGORIA 3');

--TRABAJADOR
INSERT INTO TRABAJADOR VALUES(20234567,'K', 'SONIA', 'RAMIREZ', 'ROBLES', 400000, TO_DATE('01/03/1960', 'DD/MM/YYYY'), 'CAT1', 'C002');
INSERT INTO TRABAJADOR VALUES(23454456,'1', 'BARBARA', 'MANCILLA', 'MANCILLA', 450000, TO_DATE('14/01/1962', 'DD/MM/YYYY'), 'CAT2', 'C001');
INSERT INTO TRABAJADOR VALUES(21324478,'4', 'FRANCISCA', 'SOLIS', 'SOLIS', 500000, TO_DATE('01/11/1970', 'DD/MM/YYYY'), 'CAT1', 'C002');
INSERT INTO TRABAJADOR VALUES(20343122,'5', 'DANIELA', 'SUAZO', 'SUAZO', 550000, TO_DATE('11/08/1980', 'DD/MM/YYYY'), 'CAT2', 'C001');
INSERT INTO TRABAJADOR VALUES(22456788,'2', 'FERNANDA', 'MUÑOZ', 'MUÑOZ', 600000, TO_DATE('05/06/1968', 'DD/MM/YYYY'), 'CAT1', 'C002');
